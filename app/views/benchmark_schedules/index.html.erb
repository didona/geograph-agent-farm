<h3> BENCHMARK SCHEDULE </h3>

<div id="status"> <%= "Benchmark is running" if @schedule.active? %></div>

<div class="row-fluid">
  TOTAL NUMBER OF ITERATIONS   <%= number_field_tag 'number_iterations', @schedule.iterations, :in => 1...100000,
                                                    :class => "span1",
                                                    :onchange => %Q{$.ajax({url: '#{update_iterations_path}',
                               type: 'PUT',data: {'iterations': $(this).val()}});}.html_safe %>


</div>

<div class="row-fluid">
Schedule<br/>

<%= select_tag "current_profile_id", options_for_select(@dynamic_profiles.map(&:name)), :prompt => "add benchmark",
               :onchange => "$.ajax({
                   url: '#{set_schedule_path}',
                   type: 'PUT',
                   data: {'schedule_name': $(this).val()},
                   success: function(details){
                     $('#current_profile_details').html(details);
                   }
                 });"
%>

<%= button_tag "start", :class=>"btn btn-primary",:onclick =>  "$.ajax({
                   url: '#{play_schedule_path}',
                   type: 'PUT',
                   success: function(){
                     $('#status').html('Benchmark is running');
                   }
                 });"%>

<%= button_tag "stop", :class=>"btn btn-primary",:onclick =>  "$.ajax({
                   url: '#{stop_schedule_path}',
                   type: 'PUT',
                   success: function(){
                   $('#status').html('Benchmark is stopped');
                   }
                 });"%>

<% @benchmarks.each do |b| %>
  <%= b.name %><br/>
<% end %>
</div>
